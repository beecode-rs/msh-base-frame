import path from 'path';
import { FileAdapter } from '#src/lib/file-adapter';
import { pathAdapter } from '#src/lib/path-adapter';
import { webAdapter } from '#src/lib/web-adapter';
import { zipAdapter } from '#src/lib/zip-adapter';
import { config } from '#src/util/config';
import { constant } from '#src/util/constant';
export class FetchTemplateStrategyWebZip {
    async fetch() {
        const { template: { location: templateLocation, localDestinationFolder }, tmpFolderPath, } = config();
        const { templateTmpZipName } = constant();
        await webAdapter.downloadFile({ fileDestinationPath: tmpFolderPath, fileUrl: templateLocation });
        const absoluteSourcePath = pathAdapter.getAbsolutePath({ path: path.resolve(tmpFolderPath, `./${templateTmpZipName}`) });
        const absoluteDestinationPath = pathAdapter.getAbsolutePath({ path: localDestinationFolder });
        await zipAdapter.unzip({ absoluteDestinationPath, absoluteSourcePath });
        await new FileAdapter().removeFile({ filePath: absoluteSourcePath });
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RyYXRlZ3ktd2ViLXppcC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9idXNpbmVzcy9zZXJ2aWNlL2ZldGNoLXRlbXBsYXRlL3N0cmF0ZWd5LXdlYi16aXAudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxJQUFJLE1BQU0sTUFBTSxDQUFBO0FBR3ZCLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQTtBQUNuRCxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sdUJBQXVCLENBQUE7QUFDbkQsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLHNCQUFzQixDQUFBO0FBQ2pELE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQTtBQUNqRCxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sa0JBQWtCLENBQUE7QUFDekMsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLG9CQUFvQixDQUFBO0FBRTdDLE1BQU0sT0FBTywyQkFBMkI7SUFDdkMsS0FBSyxDQUFDLEtBQUs7UUFDVixNQUFNLEVBQ0wsUUFBUSxFQUFFLEVBQUUsUUFBUSxFQUFFLGdCQUFnQixFQUFFLHNCQUFzQixFQUFFLEVBQ2hFLGFBQWEsR0FDYixHQUFHLE1BQU0sRUFBRSxDQUFBO1FBQ1osTUFBTSxFQUFFLGtCQUFrQixFQUFFLEdBQUcsUUFBUSxFQUFFLENBQUE7UUFFekMsTUFBTSxVQUFVLENBQUMsWUFBWSxDQUFDLEVBQUUsbUJBQW1CLEVBQUUsYUFBYSxFQUFFLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxDQUFDLENBQUE7UUFFaEcsTUFBTSxrQkFBa0IsR0FBRyxXQUFXLENBQUMsZUFBZSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsYUFBYSxFQUFFLEtBQUssa0JBQWtCLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQTtRQUN4SCxNQUFNLHVCQUF1QixHQUFHLFdBQVcsQ0FBQyxlQUFlLENBQUMsRUFBRSxJQUFJLEVBQUUsc0JBQXNCLEVBQUUsQ0FBQyxDQUFBO1FBRTdGLE1BQU0sVUFBVSxDQUFDLEtBQUssQ0FBQyxFQUFFLHVCQUF1QixFQUFFLGtCQUFrQixFQUFFLENBQUMsQ0FBQTtRQUN2RSxNQUFNLElBQUksV0FBVyxFQUFFLENBQUMsVUFBVSxDQUFDLEVBQUUsUUFBUSxFQUFFLGtCQUFrQixFQUFFLENBQUMsQ0FBQTtJQUNyRSxDQUFDO0NBQ0QiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcGF0aCBmcm9tICdwYXRoJ1xuXG5pbXBvcnQgeyB0eXBlIEZldGNoVGVtcGxhdGVTdHJhdGVneSB9IGZyb20gJyNzcmMvYnVzaW5lc3Mvc2VydmljZS9mZXRjaC10ZW1wbGF0ZS9zdHJhdGVneSdcbmltcG9ydCB7IEZpbGVBZGFwdGVyIH0gZnJvbSAnI3NyYy9saWIvZmlsZS1hZGFwdGVyJ1xuaW1wb3J0IHsgcGF0aEFkYXB0ZXIgfSBmcm9tICcjc3JjL2xpYi9wYXRoLWFkYXB0ZXInXG5pbXBvcnQgeyB3ZWJBZGFwdGVyIH0gZnJvbSAnI3NyYy9saWIvd2ViLWFkYXB0ZXInXG5pbXBvcnQgeyB6aXBBZGFwdGVyIH0gZnJvbSAnI3NyYy9saWIvemlwLWFkYXB0ZXInXG5pbXBvcnQgeyBjb25maWcgfSBmcm9tICcjc3JjL3V0aWwvY29uZmlnJ1xuaW1wb3J0IHsgY29uc3RhbnQgfSBmcm9tICcjc3JjL3V0aWwvY29uc3RhbnQnXG5cbmV4cG9ydCBjbGFzcyBGZXRjaFRlbXBsYXRlU3RyYXRlZ3lXZWJaaXAgaW1wbGVtZW50cyBGZXRjaFRlbXBsYXRlU3RyYXRlZ3kge1xuXHRhc3luYyBmZXRjaCgpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRjb25zdCB7XG5cdFx0XHR0ZW1wbGF0ZTogeyBsb2NhdGlvbjogdGVtcGxhdGVMb2NhdGlvbiwgbG9jYWxEZXN0aW5hdGlvbkZvbGRlciB9LFxuXHRcdFx0dG1wRm9sZGVyUGF0aCxcblx0XHR9ID0gY29uZmlnKClcblx0XHRjb25zdCB7IHRlbXBsYXRlVG1wWmlwTmFtZSB9ID0gY29uc3RhbnQoKVxuXG5cdFx0YXdhaXQgd2ViQWRhcHRlci5kb3dubG9hZEZpbGUoeyBmaWxlRGVzdGluYXRpb25QYXRoOiB0bXBGb2xkZXJQYXRoLCBmaWxlVXJsOiB0ZW1wbGF0ZUxvY2F0aW9uIH0pXG5cblx0XHRjb25zdCBhYnNvbHV0ZVNvdXJjZVBhdGggPSBwYXRoQWRhcHRlci5nZXRBYnNvbHV0ZVBhdGgoeyBwYXRoOiBwYXRoLnJlc29sdmUodG1wRm9sZGVyUGF0aCwgYC4vJHt0ZW1wbGF0ZVRtcFppcE5hbWV9YCkgfSlcblx0XHRjb25zdCBhYnNvbHV0ZURlc3RpbmF0aW9uUGF0aCA9IHBhdGhBZGFwdGVyLmdldEFic29sdXRlUGF0aCh7IHBhdGg6IGxvY2FsRGVzdGluYXRpb25Gb2xkZXIgfSlcblxuXHRcdGF3YWl0IHppcEFkYXB0ZXIudW56aXAoeyBhYnNvbHV0ZURlc3RpbmF0aW9uUGF0aCwgYWJzb2x1dGVTb3VyY2VQYXRoIH0pXG5cdFx0YXdhaXQgbmV3IEZpbGVBZGFwdGVyKCkucmVtb3ZlRmlsZSh7IGZpbGVQYXRoOiBhYnNvbHV0ZVNvdXJjZVBhdGggfSlcblx0fVxufVxuIl19