import { FileAdapter } from '#src/lib/file-adapter';
import { templatingAdapter } from '#src/lib/templating-adapter';
import { config } from '#src/util/config';
export class TemplatingService {
    async replaceFileWithRenderedTemplate(params) {
        const { filePath } = params;
        const renderedContent = await this.renderFile({ filePath, templateValues: config().variables });
        await new FileAdapter().writeToFile({ fileContent: renderedContent, filePath });
    }
    async renderFile(params) {
        const { filePath, templateValues } = params;
        const fileContent = await new FileAdapter().readFile({ filePath });
        return templatingAdapter.transform({ templateContent: fileContent, variables: templateValues });
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGVtcGxhdGluZy1zZXJ2aWNlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2J1c2luZXNzL3NlcnZpY2UvdGVtcGxhdGluZy1zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQTtBQUNuRCxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSw2QkFBNkIsQ0FBQTtBQUMvRCxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sa0JBQWtCLENBQUE7QUFFekMsTUFBTSxPQUFPLGlCQUFpQjtJQUM3QixLQUFLLENBQUMsK0JBQStCLENBQUMsTUFBNEI7UUFDakUsTUFBTSxFQUFFLFFBQVEsRUFBRSxHQUFHLE1BQU0sQ0FBQTtRQUUzQixNQUFNLGVBQWUsR0FBRyxNQUFNLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBRSxRQUFRLEVBQUUsY0FBYyxFQUFFLE1BQU0sRUFBRSxDQUFDLFNBQVMsRUFBRSxDQUFDLENBQUE7UUFFL0YsTUFBTSxJQUFJLFdBQVcsRUFBRSxDQUFDLFdBQVcsQ0FBQyxFQUFFLFdBQVcsRUFBRSxlQUFlLEVBQUUsUUFBUSxFQUFFLENBQUMsQ0FBQTtJQUNoRixDQUFDO0lBRUQsS0FBSyxDQUFDLFVBQVUsQ0FBQyxNQUFxRTtRQUNyRixNQUFNLEVBQUUsUUFBUSxFQUFFLGNBQWMsRUFBRSxHQUFHLE1BQU0sQ0FBQTtRQUUzQyxNQUFNLFdBQVcsR0FBRyxNQUFNLElBQUksV0FBVyxFQUFFLENBQUMsUUFBUSxDQUFDLEVBQUUsUUFBUSxFQUFFLENBQUMsQ0FBQTtRQUVsRSxPQUFPLGlCQUFpQixDQUFDLFNBQVMsQ0FBQyxFQUFFLGVBQWUsRUFBRSxXQUFXLEVBQUUsU0FBUyxFQUFFLGNBQWMsRUFBRSxDQUFDLENBQUE7SUFDaEcsQ0FBQztDQUNEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRmlsZUFkYXB0ZXIgfSBmcm9tICcjc3JjL2xpYi9maWxlLWFkYXB0ZXInXG5pbXBvcnQgeyB0ZW1wbGF0aW5nQWRhcHRlciB9IGZyb20gJyNzcmMvbGliL3RlbXBsYXRpbmctYWRhcHRlcidcbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gJyNzcmMvdXRpbC9jb25maWcnXG5cbmV4cG9ydCBjbGFzcyBUZW1wbGF0aW5nU2VydmljZSB7XG5cdGFzeW5jIHJlcGxhY2VGaWxlV2l0aFJlbmRlcmVkVGVtcGxhdGUocGFyYW1zOiB7IGZpbGVQYXRoOiBzdHJpbmcgfSk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGNvbnN0IHsgZmlsZVBhdGggfSA9IHBhcmFtc1xuXG5cdFx0Y29uc3QgcmVuZGVyZWRDb250ZW50ID0gYXdhaXQgdGhpcy5yZW5kZXJGaWxlKHsgZmlsZVBhdGgsIHRlbXBsYXRlVmFsdWVzOiBjb25maWcoKS52YXJpYWJsZXMgfSlcblxuXHRcdGF3YWl0IG5ldyBGaWxlQWRhcHRlcigpLndyaXRlVG9GaWxlKHsgZmlsZUNvbnRlbnQ6IHJlbmRlcmVkQ29udGVudCwgZmlsZVBhdGggfSlcblx0fVxuXG5cdGFzeW5jIHJlbmRlckZpbGUocGFyYW1zOiB7IGZpbGVQYXRoOiBzdHJpbmc7IHRlbXBsYXRlVmFsdWVzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB9KTogUHJvbWlzZTxzdHJpbmc+IHtcblx0XHRjb25zdCB7IGZpbGVQYXRoLCB0ZW1wbGF0ZVZhbHVlcyB9ID0gcGFyYW1zXG5cblx0XHRjb25zdCBmaWxlQ29udGVudCA9IGF3YWl0IG5ldyBGaWxlQWRhcHRlcigpLnJlYWRGaWxlKHsgZmlsZVBhdGggfSlcblxuXHRcdHJldHVybiB0ZW1wbGF0aW5nQWRhcHRlci50cmFuc2Zvcm0oeyB0ZW1wbGF0ZUNvbnRlbnQ6IGZpbGVDb250ZW50LCB2YXJpYWJsZXM6IHRlbXBsYXRlVmFsdWVzIH0pXG5cdH1cbn1cbiJdfQ==